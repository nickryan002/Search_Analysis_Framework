import json

def reconstruct_strings(token_data):
    # Extract the list of dictionaries (tokens) from the last item in token_data
    tokens = list(token_data[-1].values())[0]

    def generate_strings(current_position, current_string):
        # Find all tokens starting at the current position
        possible_tokens = [token for token in tokens if token['position'] == current_position]

        if not possible_tokens:
            # If no tokens are found, return the current string as a complete string
            return [current_string.strip()]

        results = []
        for token in possible_tokens:
            # Append the current token's text to the current string
            new_string = current_string + token['text'] + ' '

            # Calculate the next position to move to
            next_position = current_position + token['org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength']

            # Recursively generate the rest of the strings
            results.extend(generate_strings(next_position, new_string))

        return results

    # Start generating strings from position 1 with an empty string
    return generate_strings(1, '')


# Example data
data = [{'org.apache.lucene.analysis.pattern.PatternReplaceCharFilter': 'my shine sweatsuit 25'}, {'org.apache.lucene.analysis.pattern.PatternReplaceCharFilter': 'my shine sweatsuit 25'}, {'org.apache.lucene.analysis.core.WhitespaceTokenizer': [{'text': 'my', 'raw_bytes': '[6d 79]', 'start': 0, 'end': 2, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 1, 'positionHistory': [1]}, {'text': 'shine', 'raw_bytes': '[73 68 69 6e 65]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 2, 'positionHistory': [2]}, {'text': 'sweatsuit', 'raw_bytes': '[73 77 65 61 74 73 75 69 74]', 'start': 9, 'end': 18, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 3, 'positionHistory': [3]}, {'text': '25', 'raw_bytes': '[32 35]', 'start': 19, 'end': 21, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 4, 'positionHistory': [4]}]}, {'org.apache.lucene.analysis.pattern.PatternReplaceFilter': [{'text': 'my', 'raw_bytes': '[6d 79]', 'start': 0, 'end': 2, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 1, 'positionHistory': [1, 1]}, {'text': 'shine', 'raw_bytes': '[73 68 69 6e 65]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 2, 'positionHistory': [2, 2]}, {'text': 'sweatsuit', 'raw_bytes': '[73 77 65 61 74 73 75 69 74]', 'start': 9, 'end': 18, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 3, 'positionHistory': [3, 3]}, {'text': '25', 'raw_bytes': '[32 35]', 'start': 19, 'end': 21, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 4, 'positionHistory': [4, 4]}]}, {'org.apache.lucene.analysis.core.LowerCaseFilter': [{'text': 'my', 'raw_bytes': '[6d 79]', 'start': 0, 'end': 2, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 1, 'positionHistory': [1, 1, 1]}, {'text': 'shine', 'raw_bytes': '[73 68 69 6e 65]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 2, 'positionHistory': [2, 2, 2]}, {'text': 'sweatsuit', 'raw_bytes': '[73 77 65 61 74 73 75 69 74]', 'start': 9, 'end': 18, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 3, 'positionHistory': [3, 3, 3]}, {'text': '25', 'raw_bytes': '[32 35]', 'start': 19, 'end': 21, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 4, 'positionHistory': [4, 4, 4]}]}, {'org.apache.lucene.analysis.synonym.SynonymGraphFilter': [{'text': 'my', 'raw_bytes': '[6d 79]', 'start': 0, 'end': 2, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 1, 'positionHistory': [1, 1, 1, 1]}, {'text': 'shine', 'raw_bytes': '[73 68 69 6e 65]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 5, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 2, 'positionHistory': [2, 2, 2, 2]}, {'text': 'matte', 'raw_bytes': '[6d 61 74 74 65]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 2, 'positionHistory': [2, 2, 2, 2]}, {'text': 'matte', 'raw_bytes': '[6d 61 74 74 65]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 3, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 2, 'positionHistory': [2, 2, 2, 2]}, {'text': 'copper', 'raw_bytes': '[63 6f 70 70 65 72]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 3, 'positionHistory': [2, 2, 2, 3]}, {'text': 'foil', 'raw_bytes': '[66 6f 69 6c]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 3, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 4, 'positionHistory': [2, 2, 2, 4]}, {'text': 'black', 'raw_bytes': '[62 6c 61 63 6b]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 5, 'positionHistory': [2, 2, 2, 5]}, {'text': 'foil', 'raw_bytes': '[66 6f 69 6c]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 6, 'positionHistory': [2, 2, 2, 6]}, {'text': 'sweatsuit', 'raw_bytes': '[73 77 65 61 74 73 75 69 74]', 'start': 9, 'end': 18, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 7, 'positionHistory': [3, 3, 3, 7]}, {'text': 'sweatpants', 'raw_bytes': '[73 77 65 61 74 70 61 6e 74 73]', 'start': 9, 'end': 18, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 7, 'positionHistory': [3, 3, 3, 7]}, {'text': 'sweatshirts', 'raw_bytes': '[73 77 65 61 74 73 68 69 72 74 73]', 'start': 9, 'end': 18, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 7, 'positionHistory': [3, 3, 3, 7]}, {'text': '25', 'raw_bytes': '[32 35]', 'start': 19, 'end': 21, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 8, 'positionHistory': [4, 4, 4, 8]}]}, {'org.apache.lucene.analysis.en.EnglishMinimalStemFilter': [{'text': 'my', 'raw_bytes': '[6d 79]', 'start': 0, 'end': 2, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 1, 'positionHistory': [1, 1, 1, 1, 1], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'shine', 'raw_bytes': '[73 68 69 6e 65]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 5, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 2, 'positionHistory': [2, 2, 2, 2, 2], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'matte', 'raw_bytes': '[6d 61 74 74 65]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 2, 'positionHistory': [2, 2, 2, 2, 2], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'matte', 'raw_bytes': '[6d 61 74 74 65]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 3, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 2, 'positionHistory': [2, 2, 2, 2, 2], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'copper', 'raw_bytes': '[63 6f 70 70 65 72]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 3, 'positionHistory': [2, 2, 2, 3, 3], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'foil', 'raw_bytes': '[66 6f 69 6c]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 3, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 4, 'positionHistory': [2, 2, 2, 4, 4], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'black', 'raw_bytes': '[62 6c 61 63 6b]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 5, 'positionHistory': [2, 2, 2, 5, 5], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'foil', 'raw_bytes': '[66 6f 69 6c]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 6, 'positionHistory': [2, 2, 2, 6, 6], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'sweatsuit', 'raw_bytes': '[73 77 65 61 74 73 75 69 74]', 'start': 9, 'end': 18, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 7, 'positionHistory': [3, 3, 3, 7, 7], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'sweatpant', 'raw_bytes': '[73 77 65 61 74 70 61 6e 74]', 'start': 9, 'end': 18, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 7, 'positionHistory': [3, 3, 3, 7, 7], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'sweatshirt', 'raw_bytes': '[73 77 65 61 74 73 68 69 72 74]', 'start': 9, 'end': 18, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 7, 'positionHistory': [3, 3, 3, 7, 7], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': '25', 'raw_bytes': '[32 35]', 'start': 19, 'end': 21, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 8, 'positionHistory': [4, 4, 4, 8, 8], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}]}, {'org.apache.lucene.analysis.en.PorterStemFilter': [{'text': 'my', 'raw_bytes': '[6d 79]', 'start': 0, 'end': 2, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 1, 'positionHistory': [1, 1, 1, 1, 1, 1], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'shine', 'raw_bytes': '[73 68 69 6e 65]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 5, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 2, 'positionHistory': [2, 2, 2, 2, 2, 2], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'matt', 'raw_bytes': '[6d 61 74 74]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 2, 'positionHistory': [2, 2, 2, 2, 2, 2], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'matt', 'raw_bytes': '[6d 61 74 74]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 3, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 2, 'positionHistory': [2, 2, 2, 2, 2, 2], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'copper', 'raw_bytes': '[63 6f 70 70 65 72]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 3, 'positionHistory': [2, 2, 2, 3, 3, 3], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'foil', 'raw_bytes': '[66 6f 69 6c]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 3, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 4, 'positionHistory': [2, 2, 2, 4, 4, 4], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'black', 'raw_bytes': '[62 6c 61 63 6b]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 5, 'positionHistory': [2, 2, 2, 5, 5, 5], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'foil', 'raw_bytes': '[66 6f 69 6c]', 'start': 3, 'end': 8, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 6, 'positionHistory': [2, 2, 2, 6, 6, 6], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'sweatsuit', 'raw_bytes': '[73 77 65 61 74 73 75 69 74]', 'start': 9, 'end': 18, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 7, 'positionHistory': [3, 3, 3, 7, 7, 7], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'sweatpant', 'raw_bytes': '[73 77 65 61 74 70 61 6e 74]', 'start': 9, 'end': 18, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 7, 'positionHistory': [3, 3, 3, 7, 7, 7], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': 'sweatshirt', 'raw_bytes': '[73 77 65 61 74 73 68 69 72 74]', 'start': 9, 'end': 18, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'SYNONYM', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 7, 'positionHistory': [3, 3, 3, 7, 7, 7], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}, {'text': '25', 'raw_bytes': '[32 35]', 'start': 19, 'end': 21, 'org.apache.lucene.analysis.tokenattributes.PositionLengthAttribute#positionLength': 1, 'type': 'word', 'org.apache.lucene.analysis.tokenattributes.TermFrequencyAttribute#termFrequency': 1, 'position': 8, 'positionHistory': [4, 4, 4, 8, 8, 8], 'org.apache.lucene.analysis.tokenattributes.KeywordAttribute#keyword': False}]}]

# Call the function
# numStrings = count_possible_strings(data)
# print(numStrings)

print(reconstruct_strings(data))
